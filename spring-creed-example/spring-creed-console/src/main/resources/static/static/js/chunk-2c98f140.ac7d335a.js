(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c98f140"],{1414:function(e,t,o){"use strict";o("c569")},9406:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",[o("el-col",{attrs:{span:12}},[o("div",{staticClass:"dashboard-container"},[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"#","http-request":e.uploadFile,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.onSuccess,"on-error":e.onError,"before-upload":e.onBeforeUpload,"file-list":e.fileList,"auto-upload":!1,multiple:""}},[o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[e._v("Drop file here or "),o("em",[e._v("click to upload")])]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("jpg/png files with a size less than 500kb")])]),o("el-button",{staticStyle:{"margin-left":"10px","margin-top":"30px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("upload to server")])],1)]),o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"Password"}},[o("el-input",{model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1)],1)],1)],1)],1),o("el-row",{attrs:{type:"flex",justify:"space-around"}},[o("el-col",{attrs:{span:12}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"Activity form",prop:"desc"}},[o("el-input",{staticClass:"dashboard-text-area",attrs:{autosize:{minRows:6},type:"textarea"},model:{value:e.ruleForm.command,callback:function(t){e.$set(e.ruleForm,"command",t)},expression:"ruleForm.command"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("submit")])],1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("result")]),o("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.clean()}}},[e._v("Clean")])],1),e._l(e.executionResult,(function(t){return o("div",{key:t,staticClass:"text item"},[e._v(" "+e._s(t)+" ")])}))],2)],1)],1)],1)},r=[];function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}function l(e){if(Array.isArray(e))return n(e)}o("a4d3"),o("e01a"),o("d3b7"),o("d28b"),o("3ca3"),o("ddb0"),o("a630");function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}o("fb6a"),o("b0c0"),o("ac1f"),o("00b4");function i(e,t){if(e){if("string"===typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return l(e)||s(e)||i(e)||c()}o("99af"),o("2f62");var d=o("b775");function f(e){return Object(d["a"])({url:"/api/v1/upload",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function m(e){return Object(d["a"])({url:"/api/v1/list-files",method:"get",params:e})}function p(e){return Object(d["a"])({method:"POST",url:"/api/v1/exec",data:e})}var b={name:"Dashboard",data:function(){return{fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],uploadUrl:"".concat(window.location.origin,"/api/v1/upload"),form:{pwd:""},ruleForm:{command:""},rules:{command:[{required:!0,message:"Please input command",trigger:"blur"}]},executionResult:[]}},created:function(){this.fetchData()},methods:{onBeforeUpload:function(){},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("The limit is 3, you selected ".concat(e.length," files this time, add up to ").concat(e.length+t.length," totally"))},beforeRemove:function(e,t){return this.$confirm("Cancel the transfert of ".concat(e.name," ?"))},submitUpload:function(){this.$refs.upload.submit()},onSuccess:function(e,t,o){console.log("success",e,t,o)},onError:function(e,t,o){console.log("onError",e,t,o)},uploadFile:function(e){var t=this,o=new FormData;console.log("file",e.file),o.append("files",e.file),o.append("pwd",this.form.pwd),f(o).then((function(e){console.log("res",e);var o=e.success;o?t.$message.success("文件上传成功"):t.$message.error("文件上传失败")}))},fetchData:function(){var e=this;this.listLoading=!0,m().then((function(t){e.fileList=t.data,e.listLoading=!1}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(console.log("valid",e),!e)return console.log("error submit!!"),!1;p(t.ruleForm).then((function(e){var o;console.log("res",e);var a=e.data;console.log("data",a),(o=t.executionResult).push.apply(o,u(a))}))}))},clean:function(){this.executionResult=[]}}},h=b,g=(o("1414"),o("f4bd"),o("2877")),v=Object(g["a"])(h,a,r,!1,null,"56583132",null);t["default"]=v.exports},c569:function(e,t,o){},f4bd:function(e,t,o){"use strict";o("f549")},f549:function(e,t,o){}}]);